{"version":3,"file":"commonHelpers.js","sources":["../src/js/api.js","../src/js/helpers.js","../src/js/createMarkup.js","../src/js/switcher.js","../src/js/time.js","../src/main.js"],"sourcesContent":["export function getWeather(city) {\n    const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=117bcd5592950f9f701a11f5ab982de0&units=metric`;\n    \n    return fetch(url)\n        .then(response => {\n         if (!response.ok) {\n             throw new Error(response.status);\n              }\n    return response.json();\n        })\n    .catch( (error) => console.log(error))\n}","export function formatTemperature(temp) {\n    return parseInt(temp);\n}","import {formatTemperature} from \"./helpers\"\n\nexport function createMarkup({name, main: {feels_like, temp, humidity, pressure}, sys: {country}, weather}){\n    return `<div class=\"weather-card\"><div><h2>${name}, ${\n        country\n      }</h2><img src=\"http://openweathermap.org/img/w/${\n        weather[0].icon\n      }.png\" width=\"80px\"><p>${\n        weather[0].description\n      }</p></div><div><p>Temperature: ${formatTemperature(\n        temp\n      )}&#8451;</p><p>Feels like: ${formatTemperature(\n        feels_like\n      )}&#8451;</p><p>Humidity: ${humidity}%</p><p>Pressure: ${pressure}</p></div>\n      <button class=\"save-button\" type=\"button\">Save</button>\n      </div>\n      `;\n}\n\n","const switcherToggle = document.querySelector(\".switcher-toggle\");\n\nswitcherToggle.addEventListener(\"change\", changeTheme);\n\nfunction changeTheme(event) {\n    if (event.target.checked) {\n        document.body.classList.replace(\"light\", \"dark\");\n        localStorage.setItem(\"theme\", \"dark\");\n    } else {\n        document.body.classList.replace(\"dark\", \"light\");\n        localStorage.setItem(\"theme\", \"light\");\n    }\n}\n\nconst ourTheme = localStorage.getItem(\"theme\");\nif (ourTheme === \"dark\") {\n    switcherToggle.checked = true;\n    document.body.classList.replace(\"light\", \"dark\");\n}","// 3. Додай відображення дати і часу в реальному часі\n\nconst date = document.querySelector('.date span');\ndate.textContent = new Date().toLocaleString();\nsetInterval(() => date.textContent = new Date().toLocaleString(), 1000);\n\n","// 1. Створи застосунок для пошуку погоди в своєму місті\n// Використовуй API https://openweathermap.org/api\n// (Current Weather Data -> Built-in API request by city name)\n// створи файл api.js що робитиме запит на бек\n// створи файл create-markup.js для створення розмітки (https://prnt.sc/LEataI862RLd)\n// додай пошук погоди в конкретному місті використовуючи форму\n\n// 2. Додай перемикач теми і реалізуй логіку переключення світлої-темної теми\n// в окремому файлі theme-switcher.js\n// якщо обрана темна тема, при оновленні сторінки вона має залишатись\n\n// 4. Додай в картку з погодою кнопку Save для зберігання\n// інформації про погоду в місті в localStorage, щоб при оновленні сторінки\n// йшов запит за погодою в збереженому місті\n// коли місто збережено, кнопка стає Delete і можна видалити місто, тоді запит\n// не буде йти при оновленні сторінки\n\nimport { getWeather } from './js/api';\nimport { createMarkup } from './js/createMarkup';\nimport \"./js/switcher\";\nimport \"./js/time\";\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst weatherDetails = document.querySelector('#weatherDetails');\nconst searchForm = document.querySelector('#searchForm');\nconst savedCity = localStorage.getItem('city');\n\nsearchForm.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  weatherDetails.innerHTML = \"\";\n  const query = e.target.name.value.trim();\n  if (!query) {\n    return iziToast.warning({ message: 'Enter city' });\n  }\n  getWeather(query).then(data => {\n    if (!data) {\n      return iziToast.error({ message: 'Enter correct city' });\n    }\n    weatherDetails.insertAdjacentHTML('beforeend', createMarkup(data));\n    const saveButton = document.querySelector('.save-button');\n    saveButton.addEventListener('click', saveCity);\n    function saveCity() {\n      localStorage.setItem('city', query);\n    }\n  });\n}\n\nif (savedCity) {\n  getWeather(savedCity).then(data => weatherDetails.insertAdjacentHTML('beforeend', createMarkup(data)));\n}"],"names":["getWeather","city","url","response","error","formatTemperature","temp","createMarkup","name","feels_like","humidity","pressure","country","weather","switcherToggle","changeTheme","event","ourTheme","date","weatherDetails","searchForm","savedCity","onSubmit","e","query","iziToast","data","saveCity"],"mappings":"svBAAO,SAASA,EAAWC,EAAM,CAC7B,MAAMC,EAAM,qDAAqDD,CAAI,uDAErE,OAAO,MAAMC,CAAG,EACX,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAExC,OAAOA,EAAS,MACpB,CAAS,EACJ,MAAQC,GAAU,QAAQ,IAAIA,CAAK,CAAC,CACzC,CCXO,SAASC,EAAkBC,EAAM,CACpC,OAAO,SAASA,CAAI,CACxB,CCAO,SAASC,EAAa,CAAC,KAAAC,EAAM,KAAM,CAAC,WAAAC,EAAY,KAAAH,EAAM,SAAAI,EAAU,SAAAC,CAAQ,EAAG,IAAK,CAAC,QAAAC,CAAO,EAAG,QAAAC,CAAO,EAAE,CACvG,MAAO,sCAAsCL,CAAI,KAC7CI,CACR,kDACQC,EAAQ,CAAC,EAAE,IACnB,yBACQA,EAAQ,CAAC,EAAE,WACZ,kCAAiCR,EAChCC,CACD,CAAA,6BAA6BD,EAC5BI,CACD,CAAA,2BAA2BC,CAAQ,qBAAqBC,CAAQ;AAAA;AAAA;AAAA,OAIvE,CCjBA,MAAMG,EAAiB,SAAS,cAAc,kBAAkB,EAEhEA,EAAe,iBAAiB,SAAUC,CAAW,EAErD,SAASA,EAAYC,EAAO,CACpBA,EAAM,OAAO,SACb,SAAS,KAAK,UAAU,QAAQ,QAAS,MAAM,EAC/C,aAAa,QAAQ,QAAS,MAAM,IAEpC,SAAS,KAAK,UAAU,QAAQ,OAAQ,OAAO,EAC/C,aAAa,QAAQ,QAAS,OAAO,EAE7C,CAEA,MAAMC,EAAW,aAAa,QAAQ,OAAO,EACzCA,IAAa,SACbH,EAAe,QAAU,GACzB,SAAS,KAAK,UAAU,QAAQ,QAAS,MAAM,GCfnD,MAAMI,EAAO,SAAS,cAAc,YAAY,EAChDA,EAAK,YAAc,IAAI,KAAM,EAAC,eAAc,EAC5C,YAAY,IAAMA,EAAK,YAAc,IAAI,KAAI,EAAG,eAAgB,EAAE,GAAI,ECoBtE,MAAMC,EAAiB,SAAS,cAAc,iBAAiB,EACzDC,EAAa,SAAS,cAAc,aAAa,EACjDC,EAAY,aAAa,QAAQ,MAAM,EAE7CD,EAAW,iBAAiB,SAAUE,CAAQ,EAE9C,SAASA,EAASC,EAAG,CACnBA,EAAE,eAAc,EAEhBJ,EAAe,UAAY,GAC3B,MAAMK,EAAQD,EAAE,OAAO,KAAK,MAAM,OAClC,GAAI,CAACC,EACH,OAAOC,EAAS,QAAQ,CAAE,QAAS,YAAc,CAAA,EAEnDzB,EAAWwB,CAAK,EAAE,KAAKE,GAAQ,CAC7B,GAAI,CAACA,EACH,OAAOD,EAAS,MAAM,CAAE,QAAS,oBAAsB,CAAA,EAEzDN,EAAe,mBAAmB,YAAaZ,EAAamB,CAAI,CAAC,EAC9C,SAAS,cAAc,cAAc,EAC7C,iBAAiB,QAASC,CAAQ,EAC7C,SAASA,GAAW,CAClB,aAAa,QAAQ,OAAQH,CAAK,CACnC,CACL,CAAG,CACH,CAEIH,GACFrB,EAAWqB,CAAS,EAAE,KAAKK,GAAQP,EAAe,mBAAmB,YAAaZ,EAAamB,CAAI,CAAC,CAAC"}