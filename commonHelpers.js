var h=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var o=(t,e,r)=>(h(t,e,"read from private field"),r?r.call(t):e.get(t)),l=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},y=(t,e,r,a)=>(h(t,e,"write to private field"),a?a.call(t,r):e.set(t,r),r);import"./assets/styles-b1bdd309.js";import{a as m,P as d}from"./assets/vendor-c4587c79.js";var n,s,i;class q{constructor(){l(this,n,"https://api.unsplash.com/search/photos");l(this,s,"gcevo00lZKvSMKLnZZJPKYS5xNbpbsP_4i6E-BVlG58");l(this,i,"")}async fetchPopularPhotos(e){const r=`${o(this,n)}?query=popular&page=${e}&per_page=12&orientation=portrait&client_id=${o(this,s)}`;try{const{data:a}=await m.get(r);return a}catch{console.log("Bad request!!!!")}}async fetchFotosByQuery(e){const r=`${o(this,n)}?query=${o(this,i)}&page=${e}&per_page=12&orientation=portrait&client_id=${o(this,s)}`;try{const{data:a}=await m.get(r);return a}catch{console.log("Bad request!!!!")}}set query(e){y(this,i,e)}}n=new WeakMap,s=new WeakMap,i=new WeakMap;function g(t){return t.map(({urls:e,alt_description:r})=>`<li class='gallery__item'><img src='${e.small}' alt='${r}'></li>`).join("")}const c={gallery:document.querySelector(".js-gallery"),paginationContainer:document.querySelector(".tui-pagination"),searchForm:document.querySelector(".js-search-form")},_={totalItems:0,itemsPerPage:12,visiblePages:5,page:1},p=new d(c.paginationContainer,_),P=p.getCurrentPage(),u=new q;u.fetchPopularPhotos(P).then(({total:t,results:e})=>{const r=g(e);c.gallery.innerHTML=r,p.reset(t)});p.on("afterMove",t=>{const e=t.page;u.fetchPopularPhotos(e).then(({results:r})=>{const a=g(r);c.gallery.innerHTML=a})});c.searchForm.addEventListener("submit",$);function $(t){t.preventDefault();const e=t.target.elements.query.value.trim();e&&(u.query=e,u.fetchFotosByQuery(P).then(({total:r,results:a})=>{if(a.length===0)return;const f=g(a);c.gallery.innerHTML=f,p.reset(r)}))}
//# sourceMappingURL=commonHelpers.js.map
